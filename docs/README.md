# 요구사항 분석

### 기능 요구사항

1. 입력

+ 12월 중 방문 날짜 입력받기
    + 1 이상 31 이하의 숫자로만 입력
    + 아닐 경우,  "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."라는 에러 메시지 출력 후 다시 입력 받기
+ 주문하실 메뉴와 개수 입력받기
    + 해산물파스타-2,레드와인-1,초코케이크-1 의 형태로 입력 받기
    + 메뉴의 개수는 1 이상의 숫자만
    + 중복 메뉴는 x
    + 메뉴판에 없거나, 갯수가 1개 이상이아닐 경우, 중복 메뉴가 있을 경우 [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." 라는 메세지 출력 후 다시 입력받기

2. 출력

+ 주문 메뉴를 출력 (메뉴명 x개) 형식, 출력순서는 자유롭게
+ 할인 전 총 주문 금액을 출력
+ 증정 메뉴를 출력(없을 경우 "없음")
+ 혜택 내역을 출력(없을 경우 "없음")
+ 총 혜택 금액(=할인 금액의 합계 + 증정 메뉴 가격)을 출력(없을 경우 "0원")
+ 할인 후 예상 결제 금액(= 주문 금액 -혜택 금액 + 증정 메뉴 가격) 을 출력
+ 12월 이벤트 배지를 출력(없을 경우 "없음")

3. 12월 이벤트 계획

### 크리스마스 디데이 할인

+ 12/1 ~12/25 까지
+ 1000원으로 시작하여 크리스마스가 다가올수록 100원씩 할인
+ 총 주문 금액에서 해당 금액마늠 할인(ex, 12/1 -> 1000, 12/3 -> 1200, 12/25 ->3400)

### 평일 할인(일~목)

+ 디저트 메뉴 개당 2023 할인

### 주말 할인(금,토)

+ 주말에는 메인 메뉴 개당 2023원할인

### 특별 할인(이벤트 달력에 별이 있는 날)

+ 별이 있는 날에는 총 주문 금액에서 1000원 할인

### 증정 이벤트

+ 할인 전 총 주문 금액 >= 12만원 이면, 샴페인 한개 증정

### 이벤트 기간

+ 크리스마스 디데이 할인을 제외한 다른 이벤트는 12/1~12/31까지

4. 이벤트 배지

+ 총 혜택 금액에 따라 이벤트 배지 부여
+ 5천원 이상 : 별
+ 만원 이상 : 트리
+ 2만원 이상 : 산타

### 주의 사항

+ 총주문 금액 만원 이상부터 이벤트 적용
+ 음료만 주문 시, 주문 할 수 없음
+ 메뉴는 한 번에 최대 20개 까지 주문 가능

### 프로그래밍 요구사항

+ 프리코스 기간 적용했던 프로그래밍 요구사항 지키기

### 개인 목표

+ 5시간안에 최대한 모든 기능 구현을 목표
+ 실시간 코드 리뷰에서 받았던 피드백 적용
    + 매직 넘버(이벤트 정책 toString 부분에 리터럴 문자열 사용)
    + 네이밍(discountPolicy 를 사용했지만 증정 이벤트의 경우 할인은 아니기 때문에 eventPolicy가 적절하다.)
    + 미처 고려하지 못한 확장성(달력 enum의 경우 12월 정보만 담고있기 때문에 DecemberCalander 가 적절하다 등)
    + 역할 분배에 대한 의문점 해결(고객의 총 주문 금액을 리턴하는 기능은 OrderMenu보다 Customer 에게 위임하는게 적절하지 않을까?)
    + 이벤트 플래너 서비스는 굳이 인터페이스로 만들 필요성이 있을까?
    + 클래스에서 관리해도 충분한 상수는 클래스 내부에 선언해주자(이 부분은 4주차 구현하면서 느낀 점이 모든 상수를 enum에 모아 구현하다 보니깐 구현하기도 힘들었고, 상수값이 변경될때 변경하기도
      힘들거같다.)

# 기능구현 목록

### 도메인

1. Customer

> 고객의 정보를 관리하는 도메인 방문 날짜 및 주문 메뉴를 가진다.

+ [x] 방문 날짜, 주문 메뉴 등을 갖는 레코드 클래스
+ [x] 총 주문 금액을 리턴하는 기능
+ [x] 이벤트 혜택을 받기위한 최소금액(만원)을 넘겼는지를 리턴하는 기능

2. VisitDate

> 고객의 방문 날짜를 관리하는 도메인

+ VisitDate interface
    + [x] 날짜에 대한 유효성 검증하는 기능
    + [x] 해당 날짜가 주말인지를 리턴하는 기능
    + [x] 해당 날짜가 달력에 별이 있는 날인지를 리턴하는 기능
    + [x] 해당 날짜가 디데이 할인 기간에 해당하는지 리턴하는 기능
    + [x] 해당 날짜가 디데이와 얼마나 차이나는지 리턴하는 기능

+ DecemberVisitDate
    + [x] VisitDate의 구현체로 방문 날짜(int) 속성을 갖는다
    + [x] 날짜에 대한 유효성 검증
        + [x] 1<= date <= 31 인지 검증
    + [x] 해당 날짜가 12월 중 주말인지 리턴하는 기능
    + [x] 해당 날짜가 12월 달력에 별이 있는 날인지 리턴하는 기능
    + [x] 해당 날짜가 크리스마스 디데이할인 기간인지 리턴하는 기능
    + [x] 해당 날짜와 크리스마스의 차이를 리턴하는 기능

3. OrderMenu

> 고객이 주문한 메뉴와 갯수를 관리하는 도메인

+ [x] 속성으로 HashMap<Menu, int> 를 갖고 고객이 주문한 메뉴, 갯수를 가진다.
+ [x] 유효성을 검증한다.
    + [x] 메뉴판에 존재하는 메뉴인지?
    + [x] 각 메뉴의 개수가 1 이상인지?
    + [x] 총 주문 갯수가 20개 이하인지?
+ [x] 카테고리별 메뉴의 수량을 리턴하는 기능
+ [x] 메뉴별 주문 갯수를 리턴하는 기능

4. EventPolicy

> 이벤트 정책을 관리하는 도메인

+ EventPolicy interface
    + [x] 이벤트를 적용받을 수 있는지를 리턴하는 기능
    + [x] 이벤트 적용 혜택금액을 리턴받는 기능

+ DdayEventPolicy
    + [x] EventPolicy 구현체
    + [x] 이벤트를 적용받을 수 있는지를 리턴하는 기능
        + [x] 12/1 , 12/25안에 고객이 방문했는지 검증
        + [x] 총 주문 금액이 만원 이상인지 검증
    + [x] 이벤트 적용 혜택금액을 리턴받는 기능
        + [x] 이벤트 적용이 가능하다면, 크리스마스날에 다가갈수록 1000원에서부터 100원씩 할인

+ WeekDayEventPolicy
    + [x] EventPolicy 구현체
    + [x] 이벤트를 적용받을 수 있는지를 리턴하는 기능
        + [x] 방문일이 평일인지 검증
        + [x] 총 주문 금액이 만원 이상인지 검증
    + [x] 이벤트 적용 혜택금액을 리턴받는 기능
        + [x] 이벤트 적용이 가능하다면, 디저트 메뉴 * 2023 원 할인

+ WeekendDayEventPolicy
    + [ ] EventPolicy 구현체
    + [ ] 이벤트를 적용받을 수 있는지를 리턴하는 기능
        + [ ] 주말인지 검증하는 기능
        + [ ] 총 주문 금액이 만원 이상인지 검증
    + [ ] 이벤트 적용 혜택금액을 리턴받는 기능
        + [ ] 이벤트 적용이 가능하다면, 메인 메뉴 갯수 * 2023원 할인

+ SpecialDayEventPolicy
    + [ ] EventPolicy 구현체
    + [ ] 이벤트를 적용받을 수 있는지를 리턴하는 기능
        + [ ] 12월 달력에 별이 있는지 검증
    + [ ] 이벤트 적용 혜택금액을 리턴받는 기능
        + [ ] 이벤트 적용이 가능하다면, 1000원 할인

+ GiftEventPolicy
    + [ ] EventPolicy 구현체
    + [ ] 이벤트를 적용받을 수 있는지를 리턴하는 기능
        + [ ] 총 주문 금액이 12만원 이상인지 검증
    + [ ] 이벤트 적용 혜택금액을 리턴받는 기능
        + [ ] 이벤트 적용이 가능하다면, 샴페인 1개 가격을 리턴

5. Menu

> 메뉴명을 담은 record 클래스

### service

+ EventPlannerService

> 이벤트 플래너를 적용시키는 서비스 클래스

+ [ ] Customer 통해 고객이 받을 수 있는 이벤트 배지를 리턴
+ [ ] Customer 통해 혜택 내역을 리턴
+ [ ] Customer 통해 혜택 금액 리턴
+ [ ] Customer 통해 증정 메뉴를 리턴
+ [ ] Customer 통해 해당 고객의 할인 후 결제 금액을 리턴

### View

+ InputView

> 입력을 담당하는 클래스

+ OutputView

> 출력을 담당하는 클래스

### Controller

+ DecemberEventPlannerController

> 각 도메인과 서비스, view에 정보를 전달하고 연결해주는 컨트롤러

+ [ ] 입력받은 데이터를 도메인에 전달한다.
+ [ ] 로직을 거친 결과를 뷰에 전달한다.
+ [ ] 잘못된 입력에 대해 에러를 출력하고 다시 입력받도록 한다.

### const

+ Error

> 예외문 관련된 상수 Enum

+ DecemberCalender

> 주말, 평일, starDay 등 날짜를 상수로 관리하는 enum

+ MenuBoard

> 메뉴판 enum 클래스

+ EventBadge

> 이벤트 배지 enum 클래스

### utils

1. InputValidator

> 입력값에 대해 최소한의 검증을 하는 클래스

+ [ ] 정수형태인지 검증하는 기능
+ [ ] 주문입력의 형태가 올바른지?
+ [ ] 주문입력에 중복 메뉴가 존재하는지 ?

2. InputParser

> 입력값이 유효할 경우 원하는 데이터형태로 파싱하는 클래스

+ [ ] 유효성 검증 후 입력을 Int 형태로 파싱하는 기능
+ [ ] 유효성 검증 후 입력을 Hash<Menu,Integer> 형태로 파싱하는 기능
